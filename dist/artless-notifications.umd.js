(function(e,n){typeof exports=="object"&&typeof module<"u"?n(exports):typeof define=="function"&&define.amd?define(["exports"],n):(e=typeof globalThis<"u"?globalThis:e||self,n(e["artless-notifications"]={}))})(this,function(e){"use strict";var p=e=>{throw TypeError(e)};var m=(e,n,c)=>n.has(e)||p("Cannot "+c);var i=(e,n,c)=>(m(e,n,"read from private field"),c?c.call(e):n.get(e)),T=(e,n,c)=>n.has(e)?p("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,c),L=(e,n,c,u)=>(m(e,n,"write to private field"),u?u.call(e,c):n.set(e,c),c);var t;const c="bottom-left";function u(f){return new Promise(o=>setTimeout(o,f))}class g{constructor(o){T(this,t,null);const{root:s,position:h,hideLatency:r,closing:l,defaultTitle:d}=o;if(i(this,t))return i(this,t);L(this,t,{}),i(this,t).notesLimit=3,i(this,t).closing=l||!0,i(this,t).defaultTitle=d||null,i(this,t).root=document.querySelector(s)||document.body,i(this,t).position=h||c,i(this,t).hideLatency=r||null;const a=document.createElement("div");a.classList.add("artless-notificator__container"),s&&(i(this,t).root.style.position="relative"),i(this,t).root.style.position="relative",i(this,t).root.appendChild(a),i(this,t).container=a}pushMessage(o,s,h){const r=new y(o,s,h||i(this,t).defaultTitle);function l(){r.classList.add("artless-notificator__hide_left"),u(300).then(()=>r.remove())}if(i(this,t).container.appendChild(r),i(this,t).closing){const a=document.createElement("button");a.innerText="X",a.addEventListener("click",l.bind(this)),r.firstChild.appendChild(a)}if(i(this,t).container.children.length>i(this,t).notesLimit&&i(this,t).container.removeChild(i(this,t).container.firstChild),!i(this,t).hideLatency)return;const d=setTimeout(l,i(this,t).hideLatency);window.onbeforeunload=()=>clearInterval(d)}info(o,s){this.pushMessage("info",o,s)}error(o,s){this.pushMessage("error",o,s)}warning(o,s){this.pushMessage("warning",o,s)}success(o,s){this.pushMessage("success",o,s)}}t=new WeakMap;class y{constructor(o,s,h){const r=document.createElement("div"),l=document.createElement("header"),d=document.createElement("h3"),a=document.createElement("p");return l.appendChild(d),r.appendChild(l),r.appendChild(a),d.innerText=h||"Artless notificator",a.innerText=s,r.classList.add("artless-notificator__item",`artless-notificator__${o}-item`),r}}e.Notificator=g,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
